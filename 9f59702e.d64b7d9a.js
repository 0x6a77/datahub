(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{131:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return p}));var o=n(162),r=n(163),a=(n(0),n(164)),c={title:"Configuring Okta Authentication for React App (OIDC)",hide_title:!0,slug:"/how/sso/configure-oidc-react-okta",custom_edit_url:"https://github.com/linkedin/datahub/blob/master/docs/how/sso/configure-oidc-react-okta.md"},i={unversionedId:"docs/how/sso/configure-oidc-react-okta",id:"docs/how/sso/configure-oidc-react-okta",isDocsHomePage:!1,title:"Configuring Okta Authentication for React App (OIDC)",description:"Configuring Okta Authentication for React App (OIDC)",source:"@site/genDocs/docs/how/sso/configure-oidc-react-okta.md",slug:"/how/sso/configure-oidc-react-okta",permalink:"/docs/how/sso/configure-oidc-react-okta",editUrl:"https://github.com/linkedin/datahub/blob/master/docs/how/sso/configure-oidc-react-okta.md",version:"current",sidebar:"overviewSidebar",previous:{title:"Configuring Google Authentication for React App (OIDC)",permalink:"/docs/how/sso/configure-oidc-react-google"},next:{title:"React App (Incubating)",permalink:"/docs/datahub-web-react"}},l=[{value:"Steps",id:"steps",children:[{value:"1. Create an application in Okta Developer Console",id:"1-create-an-application-in-okta-developer-console",children:[]},{value:"2. Obtain Client Credentials",id:"2-obtain-client-credentials",children:[]},{value:"3. Obtain Discovery URI",id:"3-obtain-discovery-uri",children:[]},{value:"4. Configure <code>datahub-frontend</code> to enable OIDC authentication",id:"4-configure-datahub-frontend-to-enable-oidc-authentication",children:[]},{value:"5. Restart <code>datahub-frontend-react</code> docker container",id:"5-restart-datahub-frontend-react-docker-container",children:[]}]},{value:"Resources",id:"resources",children:[]}],u={rightToc:l};function p(e){var t=e.components,c=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},u,c,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"configuring-okta-authentication-for-react-app-oidc"},"Configuring Okta Authentication for React App (OIDC)"),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"Authored on 3/10/2021")),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"datahub-frontend")," server can be configured to authenticate users over OpenID Connect (OIDC). As such, it can be configured to\ndelegate authentication responsibility to identity providers like Okta."),Object(a.b)("p",null,"This guide will provide steps for configuring DataHub authentication using Okta."),Object(a.b)("h2",{id:"steps"},"Steps"),Object(a.b)("h3",{id:"1-create-an-application-in-okta-developer-console"},"1. Create an application in Okta Developer Console"),Object(a.b)("p",null,"a. Log in to your Okta admin account & navigate to the developer console"),Object(a.b)("p",null,"b. Select ",Object(a.b)("strong",{parentName:"p"},"Applications"),", then ",Object(a.b)("strong",{parentName:"p"},"Add Application"),", the ",Object(a.b)("strong",{parentName:"p"},"Create New App")," to create a new app."),Object(a.b)("p",null,"c. Select ",Object(a.b)("inlineCode",{parentName:"p"},"Web")," as the ",Object(a.b)("strong",{parentName:"p"},"Platform"),", and ",Object(a.b)("inlineCode",{parentName:"p"},"OpenID Connect")," as the ",Object(a.b)("strong",{parentName:"p"},"Sign on method")),Object(a.b)("p",null,"d. Click ",Object(a.b)("strong",{parentName:"p"},"Create")),Object(a.b)("p",null,"e. Under 'General Settings', name your application"),Object(a.b)("p",null,"f. Below, add a ",Object(a.b)("strong",{parentName:"p"},"Login Redirect URI"),". This should be formatted as"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},"https://your-datahub-domain.com/callback/oidc\n")),Object(a.b)("p",null,"If you're just testing locally, this can be ",Object(a.b)("inlineCode",{parentName:"p"},"http://localhost:9002/callback/oidc"),". "),Object(a.b)("p",null,"f. Click ",Object(a.b)("strong",{parentName:"p"},"Save")),Object(a.b)("h3",{id:"2-obtain-client-credentials"},"2. Obtain Client Credentials"),Object(a.b)("p",null,"On the subsequent screen, you should see the client credentials. Bookmark the ",Object(a.b)("inlineCode",{parentName:"p"},"Client id")," and ",Object(a.b)("inlineCode",{parentName:"p"},"Client secret")," for the next step."),Object(a.b)("h3",{id:"3-obtain-discovery-uri"},"3. Obtain Discovery URI"),Object(a.b)("p",null,"On the same page, you should see an ",Object(a.b)("inlineCode",{parentName:"p"},"Okta Domain"),". Your OIDC discovery URI will be formatted as follows:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},"https://your-okta-domain.com/.well-known/openid-configuration\n")),Object(a.b)("p",null,"for example, ",Object(a.b)("inlineCode",{parentName:"p"},"https://dev-33231928.okta.com/.well-known/openid-configuration"),"."),Object(a.b)("p",null,"At this point, you should be looking at a screen like the following:"),Object(a.b)("p",null,Object(a.b)("img",{alt:"okta-setup-1",src:n(255).default}),"\n",Object(a.b)("img",{alt:"okta-setup-2",src:n(256).default})),Object(a.b)("p",null,"Success!"),Object(a.b)("h3",{id:"4-configure-datahub-frontend-to-enable-oidc-authentication"},"4. Configure ",Object(a.b)("inlineCode",{parentName:"h3"},"datahub-frontend")," to enable OIDC authentication"),Object(a.b)("p",null,"a. Open the file ",Object(a.b)("inlineCode",{parentName:"p"},"docker/datahub-frontend/env/docker.env")),Object(a.b)("p",null,"b. Add the following configuration values to the file:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},"AUTH_OIDC_ENABLED=true\nAUTH_OIDC_CLIENT_ID=your-client-id\nAUTH_OIDC_CLIENT_SECRET=your-client-secret\nAUTH_OIDC_DISCOVERY_URI=https://your-okta-domain.com/.well-known/openid-configuration\nAUTH_OIDC_BASE_URL=your-datahub-url\n")),Object(a.b)("p",null,"Replacing the placeholders above with the client id & client secret received from Google in Step 3f."),Object(a.b)("h3",{id:"5-restart-datahub-frontend-react-docker-container"},"5. Restart ",Object(a.b)("inlineCode",{parentName:"h3"},"datahub-frontend-react")," docker container"),Object(a.b)("p",null,"Now, simply restart the ",Object(a.b)("inlineCode",{parentName:"p"},"datahub-frontend-react")," container to enable the integration."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},"docker-compose restart datahub-frontend-react\n")),Object(a.b)("p",null,"Navigate to your DataHub domain to see SSO in action."),Object(a.b)("h2",{id:"resources"},"Resources"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"https://developer.okta.com/docs/concepts/oauth-openid/"},"OAuth 2.0 and OpenID Connect Overview"))))}p.isMDXComponent=!0},162:function(e,t,n){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return o}))},163:function(e,t,n){"use strict";function o(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,"a",(function(){return o}))},164:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return O}));var o=n(0),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createContext({}),p=function(e){var t=r.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},b=function(e){var t=p(e.components);return r.a.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},s=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),b=p(n),s=o,O=b["".concat(c,".").concat(s)]||b[s]||d[s]||a;return n?r.a.createElement(O,i(i({ref:t},u),{},{components:n})):r.a.createElement(O,i({ref:t},u))}));function O(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,c=new Array(a);c[0]=s;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,c[1]=i;for(var u=2;u<a;u++)c[u]=n[u];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},255:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/okta-setup-1-1a592f70c25f20660a21f2b0ef2e28cb.png"},256:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/okta-setup-2-61381577343486cc85906499f2c4da6a.png"}}]);