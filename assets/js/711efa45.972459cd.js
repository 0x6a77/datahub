(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[4236],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=a.createContext({}),l=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=l(e.components);return a.createElement(d.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,d=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=o,h=u["".concat(d,".").concat(m)]||u[m]||c[m]||r;return n?a.createElement(h,i(i({ref:t},p),{},{components:n})):a.createElement(h,i({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var l=2;l<r;l++)i[l]=n[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},199:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},metadata:function(){return s},toc:function(){return d},default:function(){return p}});var a=n(2122),o=n(9756),r=(n(7294),n(3905)),i={title:"How to onboard an entity?",sidebar_label:"How to onboard an entity?",slug:"/how/entity-onboarding",custom_edit_url:"https://github.com/linkedin/datahub/blob/master/docs/how/entity-onboarding.md"},s={unversionedId:"docs/how/entity-onboarding",id:"docs/how/entity-onboarding",isDocsHomePage:!1,title:"How to onboard an entity?",description:"Refer to this doc if you're only interested in adding a new aspect to an existing entity",source:"@site/genDocs/docs/how/entity-onboarding.md",sourceDirName:"docs/how",slug:"/how/entity-onboarding",permalink:"/docs/how/entity-onboarding",editUrl:"https://github.com/linkedin/datahub/blob/master/docs/how/entity-onboarding.md",version:"current",sidebar_label:"How to onboard an entity?",frontMatter:{title:"How to onboard an entity?",sidebar_label:"How to onboard an entity?",slug:"/how/entity-onboarding",custom_edit_url:"https://github.com/linkedin/datahub/blob/master/docs/how/entity-onboarding.md"},sidebar:"overviewSidebar",previous:{title:"How to customize the search experience of an entity?",permalink:"/docs/how/customize-elasticsearch-query-template"},next:{title:"How to onboard to GMA graph?",permalink:"/docs/how/graph-onboarding"}},d=[{value:"1. Define URN",id:"1-define-urn",children:[]},{value:"2. Model your metadata",id:"2-model-your-metadata",children:[]},{value:"3. GMA search onboarding",id:"3-gma-search-onboarding",children:[]},{value:"4. GMA graph onboarding",id:"4-gma-graph-onboarding",children:[]},{value:"5. Add rest.li resource endpoints",id:"5-add-restli-resource-endpoints",children:[]},{value:"6. Configure dependency injection",id:"6-configure-dependency-injection",children:[]},{value:"7. UI for entity onboarding WIP",id:"7-ui-for-entity-onboarding-wip",children:[]}],l={toc:d};function p(e){var t=e.components,i=(0,o.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},l,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/how/add-new-aspect"},"this doc")," if you're only interested in adding a new aspect to an existing entity ")),(0,r.kt)("p",null,"Currently, DataHub only has a support for 3 ",(0,r.kt)("a",{parentName:"p",href:"/docs/what/entity"},"entity")," types: ",(0,r.kt)("inlineCode",{parentName:"p"},"datasets"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"users")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"groups"),".\nIf you want to extend DataHub with your own use cases such as ",(0,r.kt)("inlineCode",{parentName:"p"},"metrics"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"charts"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"dashboards")," etc, you should follow the below steps in order."),(0,r.kt)("p",null,"Also we use this following diagram to help you visualize the process.\n",(0,r.kt)("img",{alt:"onboard-a-new-entity",src:n(1203).Z})," "),(0,r.kt)("h2",{id:"1-define-urn"},"1. Define URN"),(0,r.kt)("p",null,"Refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/what/urn"},"here")," for URN definition."),(0,r.kt)("h2",{id:"2-model-your-metadata"},"2. Model your metadata"),(0,r.kt)("p",null,"Refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/how/metadata-modelling"},"metadata modelling")," section.\nMake sure to do the following:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Define ",(0,r.kt)("a",{parentName:"li",href:"/docs/what/aspect"},"Aspect")," models."),(0,r.kt)("li",{parentName:"ol"},"Define aspect union model. Refer to ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/linkedin/datahub/blob/master/metadata-models/src/main/pegasus/com/linkedin/metadata/aspect/DatasetAspect.pdl"},(0,r.kt)("inlineCode",{parentName:"a"},"DatasetAspect"))," as an example."),(0,r.kt)("li",{parentName:"ol"},"Define ",(0,r.kt)("a",{parentName:"li",href:"/docs/what/snapshot"},"Snapshot")," model. Refer to ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/linkedin/datahub/blob/master/metadata-models/src/main/pegasus/com/linkedin/metadata/snapshot/DatasetSnapshot.pdl"},(0,r.kt)("inlineCode",{parentName:"a"},"DatasetSnapshot"))," as an example."),(0,r.kt)("li",{parentName:"ol"},"Add your newly defined snapshot to ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/linkedin/datahub/blob/master/metadata-models/src/main/pegasus/com/linkedin/metadata/snapshot/Snapshot.pdl"},"Snapshot Union")," model.")),(0,r.kt)("h2",{id:"3-gma-search-onboarding"},"3. GMA search onboarding"),(0,r.kt)("p",null,"Refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/how/search-onboarding"},"search onboarding")," if you need to search the entity."),(0,r.kt)("h2",{id:"4-gma-graph-onboarding"},"4. GMA graph onboarding"),(0,r.kt)("p",null,"Refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/how/graph-onboarding"},"graph onboarding")," if you need to perform graph queries against the entity."),(0,r.kt)("h2",{id:"5-add-restli-resource-endpoints"},"5. Add rest.li resource endpoints"),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/linkedin/datahub/blob/master/gms/impl/src/main/java/com/linkedin/metadata/resources/identity/CorpUsers.java"},(0,r.kt)("inlineCode",{parentName:"a"},"CorpUsers"))," for an example of top-level ",(0,r.kt)("a",{parentName:"p",href:"https://linkedin.github.io/rest.li/user_guide/restli_server#writing-resources"},"resource endpoint"),". Optionally add an aspect-specific ",(0,r.kt)("a",{parentName:"p",href:"https://linkedin.github.io/rest.li/user_guide/restli_server#sub-resources"},"sub-resource endpoint")," such as ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/linkedin/datahub/blob/master/gms/impl/src/main/java/com/linkedin/metadata/resources/identity/CorpUsersEditableInfoResource.java"},(0,r.kt)("inlineCode",{parentName:"a"},"CorpUsersEditableInfoResource")),"."),(0,r.kt)("p",null,"If you want to use this new entity type from the ingestion framework's REST-based sink, you'll need to add it to the new endpoint to the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/linkedin/datahub/blob/master/metadata-ingestion/src/datahub/emitter/rest_emitter.py#20"},"resource list"),"."),(0,r.kt)("h2",{id:"6-configure-dependency-injection"},"6. Configure dependency injection"),(0,r.kt)("p",null,"GMS uses ",(0,r.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans"},"Spring Framework")," for dependency injection. You'll need to add ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/linkedin/datahub/tree/master/gms/factories/src/main/java/com/linkedin/gms/factory"},"various factories")," to create any custom DAOs used by the rest.li endpoint. You'll also need to add any custom package to the ",(0,r.kt)("inlineCode",{parentName:"p"},"base-package")," of ",(0,r.kt)("inlineCode",{parentName:"p"},"<context:component-scan>")," tag in ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/linkedin/datahub/blob/master/gms/war/src/main/webapp/WEB-INF/beans.xml"},"beans.xml")),(0,r.kt)("h2",{id:"7-ui-for-entity-onboarding-wip"},"7. UI for entity onboarding ","[WIP]"))}p.isMDXComponent=!0},1203:function(e,t,n){"use strict";t.Z=n.p+"assets/images/onboard-a-new-entity-656cf2beada07ae20a558c0c6af709fb.png"}}]);