(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{142:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return d}));var n=a(3),r=a(7),i=(a(0),a(165)),o={title:"Metadata Ingestion Architecture",hide_title:!0,slug:"/architecture/metadata-ingestion",custom_edit_url:"https://github.com/linkedin/datahub/blob/master/docs/architecture/metadata-ingestion.md"},c={unversionedId:"docs/architecture/metadata-ingestion",id:"docs/architecture/metadata-ingestion",isDocsHomePage:!1,title:"Metadata Ingestion Architecture",description:"Metadata Ingestion Architecture",source:"@site/genDocs/docs/architecture/metadata-ingestion.md",slug:"/architecture/metadata-ingestion",permalink:"/docs/architecture/metadata-ingestion",editUrl:"https://github.com/linkedin/datahub/blob/master/docs/architecture/metadata-ingestion.md",version:"current",sidebar:"overviewSidebar",previous:{title:"Architecture Overview",permalink:"/docs/architecture/architecture"},next:{title:"Serving Architecture",permalink:"/docs/architecture/metadata-serving"}},s=[{value:"MCE: The Center Piece",id:"mce-the-center-piece",children:[]},{value:"Pull-based Integration",id:"pull-based-integration",children:[]},{value:"Push-based Integration",id:"push-based-integration",children:[]},{value:"Internal Components",id:"internal-components",children:[{value:"Applying MCE-s to DataHub Service Tier (mce-consumer)",id:"applying-mce-s-to-datahub-service-tier-mce-consumer",children:[]}]}],u={rightToc:s};function d(e){var t=e.components,o=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},u,o,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"metadata-ingestion-architecture"},"Metadata Ingestion Architecture"),Object(i.b)("p",null,"DataHub supports an extremely flexible ingestion architecture that can support push, pull, asynchronous and synchronous models.\nThe figure below describes all the options possible for connecting your favorite system to DataHub.\n",Object(i.b)("img",{alt:"Ingestion Architecture",src:a(287).default})),Object(i.b)("h2",{id:"mce-the-center-piece"},"MCE: The Center Piece"),Object(i.b)("p",null,"The center piece for ingestion is the ",Object(i.b)("a",{parentName:"p",href:"/docs/what/mxe#metadata-change-event-mce"},"Metadata Change Event (MCE)")," which represents a metadata change that is being communicated by an upstream system.\nMCE-s can be sent over Kafka, for highly scalable async publishing from source systems. They can also be sent directly to the HTTP endpoint exposed by the DataHub service tier to get synchronous success / failure responses. "),Object(i.b)("h2",{id:"pull-based-integration"},"Pull-based Integration"),Object(i.b)("p",null,"DataHub ships with a Python based ",Object(i.b)("a",{parentName:"p",href:"/docs/metadata-ingestion"},"metadata-ingestion system")," that can connect to different sources to pull metadata from them. This metadata is then pushed via Kafka or HTTP to the DataHub storage tier. Metadata ingestion pipelines can be ",Object(i.b)("a",{parentName:"p",href:"https://github.com/linkedin/datahub/blob/master/metadata-ingestion/examples/airflow"},"orchestrated by Airflow")," to set up scheduled ingestion easily. If you don't find a source already supported, it is very easy to ",Object(i.b)("a",{parentName:"p",href:"/docs/metadata-ingestion#contributing"},"write your own"),"."),Object(i.b)("h2",{id:"push-based-integration"},"Push-based Integration"),Object(i.b)("p",null,"As long as you can emit a ",Object(i.b)("a",{parentName:"p",href:"/docs/what/mxe#metadata-change-event-mce"},"Metadata Change Event (MCE)")," event to Kafka or make a REST call over HTTP, you can integrate any system with DataHub. For convenience, DataHub also provides simple ",Object(i.b)("a",{parentName:"p",href:"/docs/metadata-ingestion#using-as-a-library"},"Python emitters")," for you to integrate into your systems to emit metadata changes (MCE-s) at the point of origin."),Object(i.b)("h2",{id:"internal-components"},"Internal Components"),Object(i.b)("h3",{id:"applying-mce-s-to-datahub-service-tier-mce-consumer"},"Applying MCE-s to DataHub Service Tier (mce-consumer)"),Object(i.b)("p",null,"DataHub comes with a Kafka Streams based job, ",Object(i.b)("a",{parentName:"p",href:"https://github.com/linkedin/datahub/blob/master/metadata-jobs/mce-consumer-job"},"mce-consumer-job"),", which consumes the MCE-s and converts them into the ",Object(i.b)("a",{parentName:"p",href:"https://linkedin.github.io/rest.li/how_data_is_represented_in_memory#the-data-template-layer"},"equivalent Pegasus format")," and sends it to the DataHub Service Tier (datahub-gms) using the ",Object(i.b)("inlineCode",{parentName:"p"},"/ingest")," endpoint. "))}d.isMDXComponent=!0},165:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var u=r.a.createContext({}),d=function(e){var t=r.a.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},l=function(e){var t=d(e.components);return r.a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),l=d(a),b=n,m=l["".concat(o,".").concat(b)]||l[b]||p[b]||i;return a?r.a.createElement(m,c(c({ref:t},u),{},{components:a})):r.a.createElement(m,c({ref:t},u))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,o[1]=c;for(var u=2;u<i;u++)o[u]=a[u];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"},287:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/ingestion-architecture-cd631d7c4a648ceb82908ce25b9f93b9.png"}}]);