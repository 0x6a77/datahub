<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2G54RXWD4D"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2G54RXWD4D",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="DataHub" href="/opensearch.xml"><title data-react-helmet="true">What is MXE (Metadata Events)? | DataHub</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="What is MXE (Metadata Events)? | DataHub"><meta data-react-helmet="true" name="description" content="What is MXE (Metadata Events)?"><meta data-react-helmet="true" property="og:description" content="What is MXE (Metadata Events)?"><meta data-react-helmet="true" property="og:url" content="https://datahubproject.io/docs/what/mxe"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://datahubproject.io/docs/what/mxe"><link rel="stylesheet" href="/styles.35c35aba.css">
<link rel="preload" href="/styles.0b82305c.js" as="script">
<link rel="preload" href="/runtime~main.5c53c619.js" as="script">
<link rel="preload" href="/main.f9a2c83a.js" as="script">
<link rel="preload" href="/1.63174415.js" as="script">
<link rel="preload" href="/94.56294f8c.js" as="script">
<link rel="preload" href="/97.5153b1fc.js" as="script">
<link rel="preload" href="/935f2afb.f3aeb9cd.js" as="script">
<link rel="preload" href="/93.ee8cedff.js" as="script">
<link rel="preload" href="/4c68208b.993ce2a4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo-color.png" alt="DataHub Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo-dark.png" alt="DataHub Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">DataHub</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://join.slack.com/t/datahubspace/shared_invite/zt-dkzbxfck-dzNl96vBzB06pJpbRwP6RA" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Slack</a><a class="navbar__item navbar__link" href="/docs/demo">Demo</a><a href="https://github.com/linkedin/datahub" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-color.png" alt="DataHub Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo-dark.png" alt="DataHub Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">DataHub</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://join.slack.com/t/datahubspace/shared_invite/zt-dkzbxfck-dzNl96vBzB06pJpbRwP6RA" target="_blank" rel="noopener noreferrer" class="menu__link">Slack</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/demo">Demo</a></li><li class="menu__list-item"><a href="https://github.com/linkedin/datahub" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">DataHub</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/faq">FAQs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/features">Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/roadmap">Roadmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/demo">Demo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/quickstart">Quickstart Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/debugging">Debugging Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/architecture/architecture">Architecture Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/architecture/metadata-ingestion">Metadata Ingestion Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/architecture/metadata-serving">Serving Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datahub-web-react">React App</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Metadata Modeling</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what/entity">Entities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what/aspect">What is a metadata aspect?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what/urn">What is URN?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what/relationship">What is a relationship?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what/search-document">What is a search document?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what/snapshot">What is a snapshot?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what/delta">What is a metadata delta?</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/what/mxe">What is MXE (Metadata Events)?</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developer Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developers">Developer&#x27;s Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docker/development">Using Docker Images During Development</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what/graph">What is GMA graph?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what/search-index">What is GMA search index?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/add-new-aspect">How to add a new metadata aspect?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/build-metadata-service">Metadata Service Developer Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/customize-elasticsearch-query-template">How to customize the search experience of an entity?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/entity-onboarding">How to onboard an entity?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/graph-onboarding">How to onboard to GMA graph?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/metadata-modelling">How to model metadata ?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/demo/graph-onboarding">Onboarding to GMA Graph - Adding a new relationship type</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/search-onboarding">How to onboard to GMA search?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/search-over-new-field">Onboarding to GMA Search - searching over a new field</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/configure-oidc-react">OIDC Authentication in React</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/sso/configure-oidc-react-google">Configuring Google Authentication for React App (OIDC)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/sso/configure-oidc-react-okta">Configuring Okta Authentication for React App (OIDC)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datahub-web-react">React App</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datahub-frontend">Frontend</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datahub-graphql-core">GraphQL Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/gms">Generalized Metadata Store (GMS)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/datahub-gms-graphql-service">GMS GraphQL Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-jobs/mae-consumer-job">MetadataAuditEvent (MAE) Consumer Job</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-jobs/mce-consumer-job">MetadataChangeEvent (MCE) Consumer Job</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/metadata-ingestion">Metadata Ingestion</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/aspect-versioning">Aspect Versioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/high-cardinality">High Cardinality Relationships</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/scsi-onboarding-guide">Strongly Consistent Secondary Index</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how/kafka-config">Configuring Kafka</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docker">Deploying with Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contrib/kubernetes">Deploying with Kubernetes</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Community</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/slack">Slack</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/links">Articles &amp; Talks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/townhalls">Town Halls</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/townhall-history">Town Hall History</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/code_of_conduct">Contributor Covenant Code of Conduct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc">RFC Process</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">RFCs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/1778-dashboards">Dashboards</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/1812-ml_models">Machine Learning Models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/1820-azkaban-flow-job">Azkaban Flows and Jobs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/1841-lineage/field_level_lineage">RFC - Field Level Lineage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/1842-business_glossary">Business Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/2042-graphql_frontend/queries">GraphQL Frontend (Part 1)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/2055-react-app">Proposal to Incubate a new React Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/rfc/active/tags">Tags</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="what-is-mxe-metadata-events"></a>What is MXE (Metadata Events)?<a class="hash-link" href="#what-is-mxe-metadata-events" title="Direct link to heading">#</a></h1><p>The models defined in <a href="/docs/what/snapshot">snapshot</a> and <a href="/docs/what/delta">delta</a> are used to build the schema for several metadata Kafka events. As these events have the prefix <code>Metadata</code> and suffix <code>Event</code>, theyâ€™re collectively referred to as MXE.</p><p>We also model MXEs using <a href="https://linkedin.github.io/rest.li/pdl_schema" target="_blank" rel="noopener noreferrer">PDL</a> and rely on the <a href="https://linkedin.github.io/rest.li/setup/gradle#generateavroschema" target="_blank" rel="noopener noreferrer">pegasus gradle plugin</a> to convert them into <a href="https://avro.apache.org/docs/current/spec.html" target="_blank" rel="noopener noreferrer">AVSC</a>. However, we also need to rename all the namespaces of the generated AVSC to avoid namespace clashes for projects that depend on both the PDL models and MXEs. </p><p>As the AVSC and PDL model schemas are 100% compatible, itâ€™d be very easy to convert the in-memory representation from one to another using <a href="https://linkedin.github.io/rest.li/DATA-Data-Schema-and-Templates#translating-data-to-and-from-avro" target="_blank" rel="noopener noreferrer">Pegasusâ€™ DataTranslator</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="metadata-change-event-mce"></a>Metadata Change Event (MCE)<a class="hash-link" href="#metadata-change-event-mce" title="Direct link to heading">#</a></h2><p>MCE is a &quot;proposal&quot; for a metadata change, as opposed to <a href="#metadata-audit-event">MAE</a>, which is conveying a committed change.
Consequently, only successfully accepted and processed MCEs will lead to the emission of a corresponding MAE.
A single MCE can contain both snapshot-oriented and delta-oriented metadata change proposal. The use case of this event is explained in <a href="/docs/architecture/metadata-ingestion">Metadata Ingestion</a>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace com.linkedin.mxe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.avro2pegasus.events.KafkaAuditHeader</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.metadata.delta.Delta</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.metadata.snapshot.Snapshot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Kafka event for proposing a metadata change for an entity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">record MetadataChangeEvent {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /** Kafka audit header */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auditHeader: optional KafkaAuditHeader</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /** Snapshot of the proposed metadata change. Include only the aspects affected by the change in the snapshot. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  proposedSnapshot: Snapshot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /** Delta of the proposed metadata partial update */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  proposedDelta: optional Delta</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Weâ€™ll also generate a <a href="https://en.wikipedia.org/wiki/Dead_letter_queue" target="_blank" rel="noopener noreferrer">dead letter queue</a> event, Failed Metadata Change Event (FMCE), for any rejected MCE. The event simply wraps the original MCE and an error message, which contains the reason for rejection. This event can be used for debugging any potential ingestion issues, as well as for re-playing any previous rejected proposal if ever needed.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace com.linkedin.mxe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.avro2pegasus.events.KafkaAuditHeader</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Kafka event for capturing a failure to process a specific MCE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">record FailedMetadataChangeEvent {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /** Kafka audit header */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auditHeader: optional KafkaAuditHeader</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /** The even that failed to be processed */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  metadataChangeEvent: MetadataChangeEvent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /** The error message or the stacktrace for the failure */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  error: string</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="metadata-audit-event-mae"></a>Metadata Audit Event (MAE)<a class="hash-link" href="#metadata-audit-event-mae" title="Direct link to heading">#</a></h2><p>A Metadata Audit Event captures the change made to one or multiple metadata <a href="/docs/what/aspect">aspects</a> associated with a particular <a href="/docs/what/entity">entity</a>, in the form of a metadata <a href="/docs/what/snapshot">snapshot</a> before the change, and a metadata snapshot after the change.</p><p>Every source-of-truth for a particular metadata aspect is expected to emit a MAE whenever a change is committed to that aspect. By ensuring that, any listener of MAE will be able to construct a complete view of the latest state for all aspects.
Furthermore, because each MAE contains the &quot;after image&quot;, any mistake made in emitting the MAE can be easily mitigated by emitting a follow-up MAE with the correction. By the same token, the initial bootstrap problem for any newly added entity can also be solved by emitting a MAE containing all the latest metadata aspects associated with that entity.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace com.linkedin.mxe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.avro2pegasus.events.KafkaAuditHeader</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import com.linkedin.metadata.snapshot.Snapshot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Kafka event for capturing update made to an entity&#x27;s metadata.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">record MetadataAuditEvent {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /** Kafka audit header */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auditHeader: optional KafkaAuditHeader</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Snapshot of the metadata before the update. Set to null for newly created metadata. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Only the metadata aspects affected by the update are included in the snapshot.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  oldSnapshot: optional Snapshot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Snapshot of the metadata after the update. Only the metadata aspects affected by the </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * update are included in the snapshot.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  newSnapshot: Snapshot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/linkedin/datahub/blob/master/docs/what/mxe.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/what/delta"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« What is a metadata delta?</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/developers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Developer&#x27;s Guide Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#metadata-change-event-mce" class="table-of-contents__link">Metadata Change Event (MCE)</a></li><li><a href="#metadata-audit-event-mae" class="table-of-contents__link">Metadata Audit Event (MAE)</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/quickstart">Quickstart</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq">FAQs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/datahubspace/shared_invite/zt-dkzbxfck-dzNl96vBzB06pJpbRwP6RA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC3qFQC5IiwR5fvWEqi_tJ5w" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/townhalls">Town Halls</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/#adoption">Adoption</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/demo">Demo</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/roadmap">Roadmap</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contributing">Contributing</a></li><li class="footer__item"><a href="https://github.com/linkedin/datahub" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2015-2021 DataHub Project Authors.</div></div></div></footer></div>
<script src="/styles.0b82305c.js"></script>
<script src="/runtime~main.5c53c619.js"></script>
<script src="/main.f9a2c83a.js"></script>
<script src="/1.63174415.js"></script>
<script src="/94.56294f8c.js"></script>
<script src="/97.5153b1fc.js"></script>
<script src="/935f2afb.f3aeb9cd.js"></script>
<script src="/93.ee8cedff.js"></script>
<script src="/4c68208b.993ce2a4.js"></script>
</body>
</html>